FiltersManager=function(){this.isOnSearchPage=$(".nopAjaxFilters7Spikes").attr("data-isonsearchpage"),this.keyword=$(".nopAjaxFilters7Spikes").attr("data-searchkeyword"),this.searchCategoryId=$(".nopAjaxFilters7Spikes").attr("data-searchcategoryid"),this.searchManufacturerId=$(".nopAjaxFilters7Spikes").attr("data-searchmanufacturerid"),this.searchVendorId=$(".nopAjaxFilters7Spikes").attr("data-searchvendorid"),this.priceFrom=$(".nopAjaxFilters7Spikes").attr("data-searchpricefrom"),this.priceTo=$(".nopAjaxFilters7Spikes").attr("data-searchpriceto"),this.includeSubcategories=$(".nopAjaxFilters7Spikes").attr("data-searchincludesubcategories"),this.searchInProductDescriptions=$(".nopAjaxFilters7Spikes").attr("data-searchinproductdescriptions"),this.advancedSearch=$(".nopAjaxFilters7Spikes").attr("data-searchadvancedsearch"),this.categoryId=$(".nopAjaxFilters7Spikes").attr("data-categoryId"),this.manufacturerId=$(".nopAjaxFilters7Spikes").attr("data-manufacturerId"),this.vendorId=$(".nopAjaxFilters7Spikes").attr("data-vendorId"),this.getFilteredProductsUrl=$(".nopAjaxFilters7Spikes").attr("data-getFilteredProductsUrl"),this.filtersUIMode=$(".nopAjaxFilters7Spikes").attr("data-filtersUIMode"),this.filtersUIModeEnum={userCheckboxes:"usecheckboxes",useDropDowns:"usedropdowns"},this.selectedFilterGroupElement=void 0,this.selectedFilterOptionElement=void 0,this.isProductRefreshTriggeredByScroll=!1},function(w,A,b){var i=0,o=1,a=2,l=3;function j(){return"true"===w(".nopAjaxFilters7Spikes").attr("data-enableinfinitescroll").toLowerCase()}function s(e,t){w(e).each(function(){var e=w(this);e.is("select")&&e.val()!==t&&(e.val(t).attr("valueChangedByScript","true"),e.change())})}function t(e){if(0<w(e).length)return e;var t=e.slice(1);return"#"===e.substring(0,1)?"."+t:"."===e.substring(0,1)?"#"+t:e}function n(){return t(w(".nopAjaxFilters7Spikes").attr("data-viewOptionsDropDownSelector")||".products-viewmode, .viewmode-icon")}var h="nop7SpikesAjaxFiltersGrid";function C(e){!0===e.hasClass("closed")?e.removeClass("closed"):e.addClass("closed"),e.parent().siblings(".filtersGroupPanel").slideToggle("slow",function(){w(this).css("overflow","")})}function M(){var e=n(),t=w(e).filter(".selected");return 0<t.length?t.attr("data-dropdownoptionvalue"):w(".viewOptionsDropDown").attr("data-DropDownOptionsSelectedValue")||w(".viewOptionsDropDown").val()||null}function d(e){var t=w(e.currentTarget).attr("data-pageNumber");null!=e.data&&null!=e.data.filtersManager&&e.data.filtersManager.requestProductsForSelectedFilters(void 0,void 0,t,void 0,void 0,!0)}function c(){var e=w(".nopAjaxFilters7Spikes").attr("data-productsGridPanelSelector")+","+w(".nopAjaxFilters7Spikes").attr("data-ProductsListPanelSelector");return w(".master-wrapper-page "+e).not(".featured-product-grid, .nop-jcarousel").last()}function p(){var e=w(".pager .next-page > a").first();if(0!==e.length){var t=c();if(0!==t.length){var r=w(window).outerHeight(),i=w(window).scrollTop();if(t.innerHeight()+t.offset().top<r+i){w(".infinite-scroll-loader").show();var o=new b,a=parseInt(e.attr("data-pageNumber"));o.requestProductsForSelectedFilters(void 0,void 0,a,void 0,void 0,!0,!0)}}}else w(window).off("scroll.filtersinfinitescroll resize.filtersinfinitescroll orientationchange.filtersinfinitescroll")}function u(){if(0===w(".infinite-scroll-loader").length){var e=w(".ajaxBusyPanelParent");0===e.length&&(e=c()),e.append('<div class="infinite-scroll-loader">'+w(".nopAjaxFilters7Spikes").attr("data-infinitescrollloadertext")+"</div>")}}function f(e,t){s(".viewOptionsDropDown",e),t&&(new b).requestProductsForSelectedFilters(void 0,void 0,void 0,void 0,void 0,!0)}function r(e,s){e.each(function(){var e="",t=w(s).val(),r=w.parseJSON(t);if(!w(this).is("select")){var i=".";return null!=r[0]&&r[0].Selected?i+=r[0].Value.toLowerCase():null!=r[1]&&r[1].Selected&&(i+=r[1].Value.toLowerCase()),void w(n()).removeClass("selected").filter(i).first().addClass("selected")}for(var o=0;o<r.length;o++){var a=r[o],l="<option ";a.Disabled&&(l+='disabled="disabled" '),a.Selected&&(l+='selected="selected" '),l+='value="'+a.Value+'">',e+=l+=a.Text+"</option>"}w(this).html(e)})}function e(){var e=w(t(w(".nopAjaxFilters7Spikes").attr("data-sortOptionsDropDownSelector")||".products-orderby"));0!==e.length&&(e.addClass("sortOptionsDropDown").removeAttr("onchange").off("change").on("change",function(e){e.preventDefault();var t,r,i=w(this),o=null==i.attr("valueChangedByScript");i.removeAttr("valueChangedByScript"),t=i.val(),r=o,s(".sortOptionsDropDown",t),r&&(j()&&w.address.history(!0),(new b).requestProductsForSelectedFilters())}),r(e,"#availableSortOptionsJson"))}function g(){var e=w(t(w(".nopAjaxFilters7Spikes").attr("data-productsPageSizeDropDownSelector")||".products-pagesize"));0!==e.length&&(e.addClass("productsPageSizeDropDown").removeAttr("onchange").off("change").on("change",function(e){e.preventDefault();var t,r,i=w(this),o=null==i.attr("valueChangedByScript");i.removeAttr("valueChangedByScript"),t=i.val(),r=o,s(".productsPageSizeDropDown",t),r&&(new b).requestProductsForSelectedFilters()}),r(e,"#availablePageSizesJson"))}function v(){var t;e(),0!==(t=w(n())).length&&(t.is("select")?t.addClass("viewOptionsDropDown").removeAttr("onchange").off("change").on("change",function(e){e.preventDefault();var t=w(this),r=null==t.attr("valueChangedByScript");t.removeAttr("valueChangedByScript"),f(t.val(),r)}):(t.filter(".grid").attr("data-dropdownoptionvalue","grid"),t.filter(".list").attr("data-dropdownoptionvalue","list"),t.on("click",function(e){if(e.preventDefault(),b.waitForAjaxRequest)return!1;w(this).hasClass("selected")||(t.removeClass("selected"),w(this).addClass("selected"),f(w(this).attr("data-dropdownoptionvalue"),!0))})),r(t,"#availableViewModesJson")),g(),w(document).trigger({type:"ajaxFiltersReplacedDropDownsEvent"})}w.fn.extend({anchorCustomClick:function(t){return w(this).first().on("click",function(e){e.preventDefault(),w(t).trigger("click")})}}),b.prototype.requestProductsForSelectedFilters=function(e,t,c,p,r,i,o,u,a,f){if(!b.waitForAjaxRequest&&"#/noFilterApplied"!==p){e&&t&&j()&&w.address.history(!0),this.isProductRefreshTriggeredByScroll=o||!1,null==p?p="":i=!0,this.setSpecificationFilterSelection(e,t);var l=this.getSpecificationFiltersModel(),s=this.getAttributeFiltersModel(),n=this.getManufacturerFiltersModel(),d=this.getVendorFiltersModel(),h=this.getOnSaleFiltersModel(),g=this.getPriceRangeFilterModel(),v=this.getInStockFiltersModel();null==c&&(c=null);var F=w(".sortOptionsDropDown").val()||0,S=M(),P=w(".productsPageSizeDropDown").val()||0,x=A.getUrlVar("pageNumber");null==x||null!=c||null!=r&&!1!==r||(c=x),null==i&&(i=!1),a&&(c=a);var k={categoryId:this.categoryId,manufacturerId:this.manufacturerId,vendorId:this.vendorId,priceRangeFilterModel7Spikes:g,specificationFiltersModel7Spikes:l,attributeFiltersModel7Spikes:s,manufacturerFiltersModel7Spikes:n,vendorFiltersModel7Spikes:d,pageNumber:c,orderby:F,viewmode:S,pagesize:P,queryString:p,shouldNotStartFromFirstPage:i,onSaleFilterModel:h,keyword:this.keyword,searchCategoryId:this.searchCategoryId,searchManufacturerId:this.searchManufacturerId,searchVendorId:this.searchVendorId,priceFrom:this.priceFrom,priceTo:this.priceTo,includeSubcategories:this.includeSubcategories,searchInProductDescriptions:this.searchInProductDescriptions,advancedSearch:this.advancedSearch,isOnSearchPage:this.isOnSearchPage,inStockFilterModel:v};this.isProductRefreshTriggeredByScroll||this.showProductPanelAjaxBusy();var y=this,m=this.getFilteredProductsUrl;b.waitForAjaxRequest=!0,w.ajax({cache:!1,type:"POST",data:w.toJSON(k),contentType:"application/json; charset=utf-8",url:m}).done(function(e){if(""!==p&&(y.changeViewModeOrderByAndPageSize(e),y.setPriceRangeValues(e)),y.refreshProducts(e,y.isProductRefreshTriggeredByScroll,f,c)){if(y.refreshFilters(e),f||y.refreshProductsPager(e),y.refreshClearButtons(),"NO HASH QUERY"!==p){y.expandFilterPanelsWithSelectedOptions();var t=w(e).filter("#urlHashQuery").val().toString();""!==t?(y.isProductRefreshTriggeredByScroll&&(t=t.slice(0,t.indexOf("&pageNumber"))),w.address.value(t)):f||w.address.value("noFilterApplied")}y.hideProductPanelAjaxBusy(),b.waitForAjaxRequest=!1;var r=w(".nopAjaxFilters7Spikes").attr("data-scrollToElement");if(!y.isProductRefreshTriggeredByScroll&&null!=r&&"true"===r.toLowerCase()&&!u){var i=w(".nopAjaxFilters7Spikes").attr("data-scrollToElementSelector").split(","),o=".product-selectors";if(null!=i&&0<i.length){for(var a=0;a<i.length;a++)if(0<w(i[a].trim()).length){o=i[a].trim();break}if(0<w(o).length){var l=parseInt(w(".nopAjaxFilters7Spikes").attr("data-scrolltoelementadditionaloffset"))||0,s=w(o).offset().top+l;w("html, body").animate({scrollTop:s},"slow"),w("html, body").animate({scrollTop:s-1},"fast")}}}w(".productPanelAjaxBusy").length<1&&y.addProductPanelAjaxBusyToPage();var n=w(e).filter("#totalCount").val().toString();if(w.event.trigger({type:"nopAjaxFiltersFiltrationCompleteEvent",totalCount:n,isTriggeredByInfiniteScroll:y.isProductRefreshTriggeredByScroll}),"true"===w(".nopAjaxFilters7Spikes").attr("data-showSelectedFiltersPanel").toLowerCase()&&function(){var e=w(".nopAjaxFilters7Spikes").first(),t=w(".block.filter-block.selected-options").first(),r=e.attr("data-selectedOptionsTargetSelector")||".nopAjaxFilters7Spikes .filtersPanel:first",a="usedropdowns"===e.attr("data-filtersuimode");switch(e.attr("data-selectedOptionsTargetAction")){case"insertBefore":t.insertBefore(r);break;case"insertAfter":t.insertAfter(r);break;case"appendTo":t.appendTo(r);break;default:t.prependTo(r)}var l=t.find(".selected-options-list");l.empty(),t.find("a.toggleControl").off("click").on("click",function(){C(w(this))});var i=e.find(".priceRangeFilterPanel7Spikes");if(0<i.length){var o=i.find("#slider"),s=o.attr("data-sliderminvalue"),n=o.attr("data-slidermaxvalue"),d=w(".priceRangeCurrentPricesPanel .currentMinPrice").text(),c=w(".priceRangeCurrentPricesPanel .currentMaxPrice").text();if(0<o.length&&(s!==d||n!==c)){var p=w('<span class="option">'+d+" - "+c+"</span>");p.anchorCustomClick(i.find(".clearPriceRangeFilter"));var u=i.find(".toggleControl").text(),f=w('<li class="price-range-selected-ranges"><label>'+u+":</label></li>");f.append(p),l.append(f)}}e.find(".filter-block").each(function(){var i=!1,e=w(this),o=w("<li><label>"+e.children(".title").children("a.toggleControl").first().text()+":</label></li>");e.find("[data-option-ids][selected], [data-option-ids][checked]").each(function(){var e=w(this),t=e.text()||e.next("label").text(),r=w('<span class="option">'+t+"</span>");i=!0,a?r.anchorCustomClick(e.closest(".filtersGroupPanel").siblings(".title").children(".clearFilterOptions")):r.anchorCustomClick(e),o.append(r)}),i&&l.append(o)}),0<l.children().length?t.show():(t.hide(),e.prepend(t))}(),"true"!==w(".nopAjaxFilters7Spikes").attr("data-enableinfinitescroll").toLowerCase()&&"false"!==w(".nopAjaxFilters7Spikes").attr("data-numberofreturnedproductsselector").toLowerCase()){var d=P;0<w(".page-body .product-grid:not(.featured-product-grid, .nop-jcarousel)").length?d=w(".page-body .product-grid:not(.featured-product-grid, .nop-jcarousel) .item-box").length:0<w(".page-body .product-list").length&&(d=w(".page-body .product-list .item-box").length),function(e,t){if(null!=e||(e=parseInt(w(".productsPageSizeDropDown .toplevel p").text()),!isNaN(e))){(t=parseInt(t))<e&&(e=t);var r=w(".nopAjaxFilters7Spikes").attr("data-numberofreturnedproductsselector")||".product-viewmode",i=w(r);w(".returned-products-filters-panel").children(".allProductsReturned").text(t);var o=w(".number-of-returned-products.sample-element").first();w(".number-of-returned-products").not(o).remove();var a=o.clone();a.removeClass("sample-element"),a.children(".productsPerPage").text(e),a.children(".allProductsReturned").text(t),0===i.length?w(".product-selectors").append(a):i.after(a),a.css("display","").addClass("active")}}(d,n)}}else b.waitForAjaxRequest=!1}).fail(function(){y.hideProductPanelAjaxBusy(),alert("Loading the page failed."),b.waitForAjaxRequest=!1}).always(function(){y.isProductRefreshTriggeredByScroll=!1,j()&&w.address.history(!1)})}},b.prototype.getSpecificationFiltersModel=function(){return this.buildSpecificationFiltersModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement)},b.prototype.getAttributeFiltersModel=function(){return this.buildAttributeFiltersModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement)},b.prototype.getManufacturerFiltersModel=function(){return this.buildManufacturerFiltersModel(this.categoryId,this.selectedFilterGroupElement)},b.prototype.getVendorFiltersModel=function(){return this.buildVendorFiltersModel(this.categoryId,this.selectedFilterGroupElement)},b.prototype.getOnSaleFiltersModel=function(){return this.buildOnSaleFiltersModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement)},b.prototype.getPriceRangeFilterModel=function(){var e=null;return null!=this.buildPriceRangeFilterModel&&(e=this.buildPriceRangeFilterModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement)),e},b.prototype.getInStockFiltersModel=function(){var e=null;return null!=this.buildInStockFiltersModel&&(e=this.buildInStockFiltersModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement)),e},b.prototype.refreshProducts=function(e,t,r,i){var o,a=M()||w(".nopAjaxFilters7Spikes").attr("data-defaultViewMode"),l=this.getProductsPanelSelector(a),s=w("."+h);if(null!=w(e).filter(l).html()){if(1<s.length&&(s=s.last()),t){var n=w(e).filter(l),d=n.find(".item-box");if(n.hasClass("product-grid")?s.hasClass("product-list")&&s.removeClass("product-list").addClass("product-grid"):s.hasClass("product-grid")&&s.removeClass("product-grid").addClass("product-list"),r)for(var c=w(".dummy-box").filter(function(){return w(this).attr("data-pageNumber")===i}),p=d.filter(".item-box"),u=0;u<p.length;u++){var f=w(p.get(u));w(c.get(u)).replaceWith(f)}else w(".infinite-scroll-loader").hide(),s.find(".item-box").last().after(d)}else s.replaceWith(w(e).filter(l));o=!0}else this.hideProductPanelAjaxBusy(),0<w("#nopAjaxFiltersNoProductsDialog").length||s.prepend(w(e).filter("#nopAjaxFiltersNoProductsDialog")),this.showNoProductsModalDialog(),o=!1;return o},b.prototype.refreshProductsPager=function(e){var t=this.getPagerPanelSelector(),r=w(t);if(void 0!==e){var i=w(e).filter(t);if(0===r.length&&0<i.length){var o=w(".nopAjaxFilters7Spikes").attr("data-pagerpanelintegrationselector")||".product-grid, .product-list",a=w(o);0<a.length&&(a.hasClass("product-grid")||a.hasClass("product-list"))&&(a=a.not(".featured-product-grid, .nop-jcarousel").last()),0===a.length&&(a=c()),a.after('<div class="pager"></div>'),r=w(t)}"true"===w(".nopAjaxFilters7Spikes").attr("data-enableinfinitescroll").toLowerCase()&&r.hide(),r.html(i.html()),0<r.length&&0===i.length&&r.remove()}this.setPagerLinks(r)},b.prototype.setPagerLinks=function(e){var i=this;e.find("a").each(function(){var e=w(this).attr("href"),t="";if(null!=e){e=e.toLowerCase();var r=/pagenumber=(\d+)/.exec(e);null!=r&&1<r.length&&(t=r[1])}w(this).removeAttr("href"),w(this).attr("data-pageNumber",t),w(this).click({filtersManager:i},d)})},b.prototype.getProductsPanelSelector=function(e){return"list"===e?w(".nopAjaxFilters7Spikes").attr("data-ProductsListPanelSelector")||".product-list":w(".nopAjaxFilters7Spikes").attr("data-productsGridPanelSelector")||".product-grid"},b.prototype.getPagerPanelSelector=function(){return w(".nopAjaxFilters7Spikes").attr("data-pagerPanelSelector")||".pager"},b.prototype.clearFilterOptions=function(e){var t=w(e.currentTarget).parent().siblings(".filtersGroupPanel");e.data.filtersManager.clearFilterOptionsForFiltersGroupElement(t)},b.prototype.clearFilterOptionsForFiltersGroupElement=function(e){e.find("[data-option-ids]").removeAttr("checked selected");var t=e.find(".select-wrap");0<t.length&&t.find(".select-inner").text(t.find("select option:selected").text()),this.requestProductsForSelectedFilters(e,void 0)},b.prototype.selectAllFilterDropDownOption=function(e){var t=w(e.currentTarget).closest(".filtersGroupPanel");this.clearFilterOptionsForFiltersGroupElement(t)},b.prototype.clearAllFilterOptions=function(e){w(".nopAjaxFilters7Spikes .filtersGroupPanel").find("[data-option-ids]").removeAttr("checked selected"),w(".nopAjaxFilters7Spikes .select-wrap").each(function(){var e=w(this);e.find(".select-inner").text(e.find("select option:selected").text())});var t=e.data.filtersManager;t.clearPriceRangeFilterControl(),t.requestProductsForSelectedFilters()},b.prototype.refreshClearButtons=function(){var i=!1;w(".nopAjaxFilters7Spikes .filtersGroupPanel").each(function(){var e=w(this),t=!1;e.find("[data-option-ids]").each(function(){var e=w(this);if(e.is(":selected")||e.is(":checked"))return!(t=!0)});var r=e.parent().find("a.clearFilterOptions");t?(r.show(),i=!0):r.hide()});var e=w(".nopAjaxFilters7Spikes .filtersTitlePanel a.clearFilterOptionsAll");if(i)e.show();else{var t=!1;null!=this.determineIfPriceRangeHasBeenSelected&&(t=this.determineIfPriceRangeHasBeenSelected()),t?e.show():e.hide()}},b.prototype.expandFilterPanelsWithSelectedOptions=function(){w(".clearPriceRangeFilter, .clearFilterOptions").filter(":visible").siblings("a.toggleControl.closed").click()},b.prototype.changeViewModeOrderByAndPageSize=function(e){var t=w(e).filter("#currentPageSizeJson").val(),r=w.parseJSON(t),i=w(e).filter("#currentOrderByJson").val(),o=w.parseJSON(i),a=w(e).filter("#currentViewModeJson").val(),l=w.parseJSON(a);s(".sortOptionsDropDown",o),s(".viewOptionsDropDown",l),s(".productsPageSizeDropDown",r),w(n()).removeClass("selected").filter("."+l).addClass("selected")},b.prototype.setPriceRangeValues=function(e){var t=w(e).filter("#priceRangeFromJson").val().toString(),r=t?w.parseJSON(t):null,i=w(e).filter("#priceRangeToJson").val().toString(),o=o?w.parseJSON(i):null;null!=this.SetSliderValues&&this.SetSliderValues(r,o)},b.prototype.refreshFilters=function(e){var t=this,r=w(e).filter("#specificationFilterModel7SpikesJson").val().toString(),i=r?w.parseJSON(r):null;t.refreshSpecificationFilters(i,t.filtersUIMode);var o=w(e).filter("#attributeFilterModel7SpikesJson").val().toString(),a=o?w.parseJSON(o):null;t.refreshAttributeFilters(a,t.filtersUIMode);var l=w(e).filter("#manufacturerFilterModel7SpikesJson").val().toString(),s=l?w.parseJSON(l):null;t.refreshManufacturerFilters(s,t.filtersUIMode);var n=w(e).filter("#vendorFilterModel7SpikesJson").val().toString(),d=n?w.parseJSON(n):null;t.refreshVendorFilters(d,t.filtersUIMode);var c=w(e).filter("#onSaleFilterModel7SpikesJson").val().toString(),p=c?w.parseJSON(c):null;t.refreshOnSaleFilters(p,t.filtersUIMode);var u=w(e).filter("#inStockFilterModel7SpikesJson").val().toString(),f=u?w.parseJSON(u):null;t.refreshInStockFilters(f,t.filtersUIMode),w(".nopAjaxFilters7Spikes .filtersGroupPanel").each(function(){var e=w(this),t=!0;e.find("[data-option-ids]").each(function(){if(!w(this).is(":disabled"))return t=!1}),t?e.find("select").attr("disabled","disabled"):e.find("select").removeAttr("disabled"),e.toggleClass("disabled",t)})},b.prototype.executeReverseInfiniteScroll=function(e){(new b).requestProductsForSelectedFilters(void 0,void 0,e,void 0,void 0,!0,!0,void 0,void 0,!0)},b.prototype.clearPriceRangeFilterControl=function(){},b.prototype.refreshManufacturerFilters=function(){},b.prototype.refreshVendorFilters=function(){},b.prototype.refreshSpecificationFilters=function(){},b.prototype.refreshAttributeFilters=function(){},b.prototype.refreshOnSaleFilters=function(){},b.prototype.refreshInStockFilters=function(){},b.prototype.buildManufacturerFiltersModel=function(){},b.prototype.buildVendorFiltersModel=function(){},b.prototype.buildSpecificationFiltersModel=function(){},b.prototype.buildAttributeFiltersModel=function(){},b.prototype.buildOnSaleFiltersModel=function(){},b.prototype.addProductPanelAjaxBusyToPage=function(){var e=c();e.addClass("ajaxBusyPanelParent "+h),e.css("position","relative"),e.append(w('<div class="productPanelAjaxBusy"></div><div class="clear"></div>')),w(".productPanelAjaxBusy").hide(),u()},b.prototype.setSpecificationFilterSelection=function(e,t){this.selectedFilterGroupElement=e,this.selectedFilterOptionElement=t},b.prototype.showNoProductsModalDialog=function(){var e=w("#nopAjaxFiltersNoProductsDialog").data("kendoWindow"),t=w("#nopAjaxFiltersNoProductsDialog").attr("title");t||(t="NO RESULTS FOUND"),e||(e=w("#nopAjaxFiltersNoProductsDialog").kendoWindow({draggable:!1,resizable:!1,width:"300px",height:"100px",title:t,modal:!0,actions:["Close"],animation:!1,visible:!1}).data("kendoWindow")).wrapper.addClass("ajaxFilters"),e.center(),e.open(),w(document).on("click",".k-overlay",function(){e.close()})},b.prototype.showProductPanelAjaxBusy=function(){w(".productPanelAjaxBusy").show()},b.prototype.hideProductPanelAjaxBusy=function(){w(".productPanelAjaxBusy").hide()},b.getFilterItemStateBasedOnAttributes=function(e){var t=e.is(":selected")||e.is(":checked"),r=e.is(":disabled");return t&&r?"CheckedDisabled":t&&!r?"Checked":!t&&r?"Disabled":"Unchecked"},b.waitForAjaxRequest=!1,b.addStateClassToCheckBoxParent=function(e,t){var r=e.parent("li");0!==r.length&&(t!==o&&t!==a||(r.addClass("checked"),t===o&&r.removeClass("disabled")),t!==a&&t!==l||r.addClass("disabled"),t===i&&r.removeClass("checked disabled"))},b.addStateAttributesToOption=function(e,t,r){t!==o&&t!==a||(r?e.attr("selected","selected").trigger("change"):e.attr("checked","checked"),t===o&&e.removeAttr("disabled")),t!==a&&t!==l||e.attr("disabled","disabled"),t===i&&e.removeAttr("checked selected disabled")},b.addStateClassAndAttributesToOption=function(e,t,r){var i=!1;return t===o&&(i=!0),r||b.addStateClassToCheckBoxParent(e,t),b.addStateAttributesToOption(e,t,r),i},w(document).ready(function(){var e=new b;e.addProductPanelAjaxBusyToPage(),w(".nopAjaxFilters7Spikes .block .title a.toggleControl").off("click").on("click",function(){C(w(this))}),w(".nopAjaxFilters7Spikes .block .title a.clearFilterOptions").each(function(){w(this).click({filtersManager:e},e.clearFilterOptions),w(this).hide()}),w(".nopAjaxFilters7Spikes .filtersDropDown a.allFilterDropDownOptions").each(function(){w(this).click({filtersManager:e},e.selectAllFilterDropDownOption)});var t=w(".nopAjaxFilters7Spikes .filtersTitlePanel a.clearFilterOptionsAll");if(t.click({filtersManager:e},e.clearAllFilterOptions),t.hide(),e.refreshProductsPager(),e.filtersUIMode===e.filtersUIModeEnum.useDropDowns){var r=w(".filtersDropDownPanel.filtersGroupPanel"),i=r.length+100;r.each(function(){w(this).css("z-index",i--)})}"true"===w(".nopAjaxFilters7Spikes").attr("data-enableinfinitescroll").toLowerCase()&&function(){u(),w(".product-page-size, "+w(".nopAjaxFilters7Spikes").attr("data-pagerpanelselector")).hide(),w(".product-selectors").addClass("infinite-scroll-enabled");var e=function(){w(window).off("scroll.filtersinfinitescroll resize.filtersinfinitescroll orientationchange.filtersinfinitescroll").on("scroll.filtersinfinitescroll resize.filtersinfinitescroll orientationchange.filtersinfinitescroll",function(){p()}),p()};w(document).on("nopAjaxFiltersFiltrationCompleteEvent",e),window.location.hash&&"#/noFilterApplied"!==window.location.hash||e()}(),w(".filtersGroupSearchInput").on("keyup",function(){var n=w(this).val().toLowerCase(),e=w(this).parent().next(".checkbox-list").children();""===n?e.each(function(){var e=w(this),t=e.find("label"),r=t.data("originaltext");t.html(r),e.show()}):e.each(function(){var e=w(this),t=e.find("label"),r=t.data("originaltext"),i=r.toLowerCase().indexOf(n);if(-1!==i){var o=r.substring(i,i+n.length);if(0===i){var a=r.substring(o.length);t.html("<strong>"+o+"</strong>"+a)}else if(0<i){var l=r.slice(0,i),s=r.slice(i+n.length);t.html(l+"<strong>"+o+"</strong>"+s)}e.show()}else e.hide()})})}),w(window).unload(function(){j()&&w.address.history(!0)}),w(document).ready(function(){v(),j()&&w.address.history(!1)})}(jQuery,sevenSpikesCore,FiltersManager);